[!- extends "_wrappers/main.html" -!]

[! block head !]
<link rel="stylesheet" href="/deck-refiner/~support/styles.css" />
[! endblock !]

[! block main_tag !]
<main class="default-flow xxxlarge-wrapper">
[!- endblock -!]

[!- block main -!]
  <hgroup>
    <h1>Deck Refiner</h1>
  </hgroup>

<bitty-7-0 
  data-connect="/deck-refiner/~support/deck-refiner.js DeckRefiner"
  data-listeners="click input mouseover"
>

    <div>
      <button data-send="await:initState initPage">Debug Reset Page</button>
    </div>

  <details>
    <summary>Change Deck</summary>
    <div class="faded-default-border default-border-radius default-padding default-flow">
      <ol>
        <li>
            <label>
              Replace this address with the one for 
              the <a href="https://archidekt.com/">Archidekt</a> deck 
              you want to refine
            <input type="text" data-send="deckURL" data-receive="deckURL" />
          </label>
        </li>
        <li data-receive="jsonLink">Loading.</li>
        <li>Copy the content from the tab you just opened</li>
        <li>
          <button data-send="clearExistingJSON">Click this to clear the data from the existing deck from this box</button>
          <div>
            <textarea class="text-box xxsmall-font-size" data-receive="clearExistingJSON loadJSON"></textarea>
          </div>
        </li>
          <li class="info-color" data-receive="updateStep5">[Status: waiting for step 4 to clear the data]</li>
      </ol>
    </div>
  </details>

    <div class="filters-wrapper faded-accent-block-border">
      <h3>Filter</h3>
      <div>
        <button data-send="filter" data-receive="filter" data-filter="x">x</button>
        <button data-send="filter" data-receive="filter" data-filter="base">base</button>
        <button data-send="filter" data-receive="filter" data-filter="1">1</button>
        <button data-send="filter" data-receive="filter" data-filter="2">2</button>
        <button data-send="filter" data-receive="filter" data-filter="3">3</button>
        <button data-send="filter" data-receive="filter" data-filter="4">4</button>
      </div>
    </div>



  <div class="deck-wrapper">
    <div class="categories" data-receive="deck" data-send="closeHighlight"></div>
  </div>

    [#
    <h2>Localhost Tools</h2>
    <h3>Image Downloader</h3>
    <p>
      This script pulls down images to work
      with locally. Keeps from sending network
      requests during dev and allows for
      working offline.
    </p>
    <textarea data-receive="imageDownloadCommands"></textarea>
    #]


</bitty-7-0>
[!- endblock -!]




