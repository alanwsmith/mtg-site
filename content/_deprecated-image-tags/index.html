[!- extends "_wrappers/main.html" -!]

[! block main !]

<hgroup>
  <h1>Image Tags</h1>
</hgroup>

<bitty-7-0 class="default-flow small-width" data-connect="/image-tags/image-tags.js ImageTags">
  <p>
    This is the tool I'm use to make HTML image 
    tags for my decks. 
    It works with <a href="https://archidekt.com">Archidekt's</a>. 
    Export Deck feature. 
    Copy your deck from there and paste it here to generate the code.
    You can copy and see a preview of it below. 
  </p>
  <textarea 
    class="deck-list" 
    data-receive="showExampleDeck clearDeck"
    data-send="outputHTML"></textarea>
  <div class="small-width text-align-right">
    <button data-send="clearDeck">Clear Deck</button>
    <button data-send="showExampleDeck">Show Example</button>
  </div>

  <h3>HTML Output</h3>
  <textarea class="code-output" data-receive="outputHTMLValue showErrors">
waiting for a deck
  </textarea>

  <div class="html-controls small-width">
    <details class="default-flow">
      <summary>Change Output Template</summary>
      <div class="faded-accent-border default-border-radius default-padding small-font-size default-flow">
        <textarea class="image-output-template" data-send="outputHTML">&lt;div class=&quot;mtg-card __CARDCLASS__&quot;&gt;
&lt;img 
  src=&quot;https://cards.scryfall.io/border_crop/front/__CHAR1__/__CHAR2__/__ID__.jpg&quot;
  alt=&quot;The __NAME__ card from Magic: The Gathering&quot; /&gt;
&lt;/div&gt;</textarea>
    <p>
      This is the HTML output template that's used for
      each card. It works by doing a find and replace
      on the following:
      </p>

      <ul>
        <li>
            <p>__CARDCLASS__</p>
            <p>
              Turns into &quot; mtg-commander&quot; 
              on the commander card and &quot;mtg-99&quot; on the 
              rest of the cards.
            </p>
        </li>
          <li>
            <p>__CHAR1__</p>
            <p>The first character of the card's ID (Necessary 
            to create the Scryfall URLs).</p>
          </li>
          <li>
            <p>__CHAR2__</p>
            <p>The second character of the card's ID (Necessary 
            to create the Scryfall URLs).</p>
          </li>
          <li>
            <p>__ID__</p>
            <p>The Scryfall card ID.</p>
          </li>
          <li>
            <p>__NAME__</p>
            <p>The name of the card.</p>
          </li>
      </ul>

      </div>
    </details>

    <div class="text-align-right">
      <button data-use="copyHTML">Copy HTML</button>
    </div>
  </div>
  <h3>Example View</h3>
  <div class="visual-output" data-receive="outputHTMLCode">waiting for deck</div>
</bitty-7-0>

<div class="large-top-margin default-top-padding faded-accent-top-border">
  <details>
    <summary>Technical Details</summary>
    <div class="faded-accent-border default-border-radius default-padding default-flow">
  <p class="default-bottom-padding">
  This page is built with <a href="https://www.bitty-js.com">bitty</a>.
  It's a single file framework baked into a web component.
  It's designed to make it easier to make
  interesting things on the web. 
  For example, here's the code that powers this page:
  </p>
  <pre class="code-block no-buttons">
      [! filter highlight_javascript !]
    [! include "image-tags/image-tags.js" -!]
      [! endfilter !]
  </pre>
    <p>
      The code will get shorter with the next version. 
      This is doing great in the mean time. If
      you want to check out the project it's at:
    </p> 
    <p>
      <a href="https://www.bitty-js.com">bitty-js.com</a>
    </p>
    </div>
  </details>

  <details>
    <summary>Endnotes</summary>
    <div class="faded-accent-border default-border-radius default-padding">
    <ul>
      <li>
        <a href="https://company.wizards.com/">Wizards of the Coast</a>
owns the copyright to the images.
They're awesome, though. They let folks use their
          intellectual property for free as long what <em>you're</em>
          doing is free. It's all part of their
          <a href="https://company.wizards.com/en/legal/fancontentpolicy">Fan Content Policy</a>.
      </li>
      <li>
          The HTML tags point to images on <a href="https://scryfall.com/">Scryfall</a>.
The reason I'm using them instead of
ones hosted by Wizards is because Scryfall has
          a <a href="https://scryfall.com/docs/api">awesome API</a>.
The images use their IDs which 
makes them a lot easier to get to. I don't expect any 
          real traffic here. 
          I'll pull the images down and  
          serve them myself if a bunch starts showing up. 
      </li>
    </ul>

      </div>

  </details>

</div>


[!- endblock -!]


[!- block head -!]
<style>
.code-output {
  height: 14rem;
}

.deck-list {
  height: 14rem;
}

.html-controls {
  display: grid;
  grid-template-columns: 1fr 8rem;
}

.image-output-template{
  height: 10rem;
}

label {
  display: block;
}

.mtg-card img {
  border-radius: var(--xsmall-border-radius);
  width: 9rem;
}

.mtg-commander img {
  border: 1px solid var(--accent-color);
}

textarea {
  display: block;
  font-size: var(--xsmall-font-size);
  width: 100%;
}

.visual-output {
  border: var(--faded-reverse-border);
  border-radius: var(--default-border-radius);
  padding: var(--default-padding);
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
  width: var(--small-width);
}
</style>
[! endblock !]

